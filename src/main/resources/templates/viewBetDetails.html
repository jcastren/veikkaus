<!doctype html>
<html lang="fi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>VEIKKAUS ### Bet details ###</title>
    <link th:href="@{/jquery-ui-1.12.1.custom/jquery-ui.css}" rel="stylesheet"/>
    <link th:href="@{/veikkaus-jquery-style.css}" rel="stylesheet"/>
    <script th:src="@{/jquery-ui-1.12.1.custom/external/jquery/jquery.js}"></script>
    <script th:src="@{/jquery-ui-1.12.1.custom/jquery-ui.js}"></script>
    <script>
    $(document).ready(function(){
        console.log("document ready");
        $('button[id="button-modify"]').show();
        $('button[id="button-save"]').hide();

        $('button[name="modify"]').click(function(){
            $('button[name="modify"]').hide(); <!-- Hiding all Modify buttons -->
            $(this).parent().find('#button-save').show(); <!-- Showing only Save button on this row. -->
        });
    });
    </script>

</head>
<body>
<h1>Details</h1>
<p>
    <a class="show-tooltip" th:href="@{/bet/getAll}"
       title="Go back to bet list">Back to Bet list</a>
</p>
<br/>
<p th:text="'User name: ' + ${bet.user.name}"/>
<p th:text="'Tournament name: ' + ${bet.tournament.name}"/>
<p th:text="'Status: ' + ${bet.status.description}"/>

<table>
    <tr>
        <th>Date</th>
        <th>Home team</th>
        <th>Away team</th>
        <th>Home score editable</th>
        <th>Home score readonly</th>
        <th>Away score</th>
    </tr>

    <tr th:each="betResult, i : ${betResults}">
        <form action="#" th:action="@{/bet/postBetResultCreate}" th:object="${newBetResult}" method="post">
            <input type="hidden" th:value="*{id}" id="id" name="id"/>
            <td th:text="${betResult.game.gameDate}"/>
            <td th:text="${betResult.game.homeTeam.team.name}"/>
            <td th:text="${betResult.game.awayTeam.team.name}"/>
            <td>
                <input id="homeScore" type="text" th:field="${newBetResult.homeScore}">
            </td>
            <td th:text="${betResult.homeScore}"/>
            <td th:text="${betResult.awayScore}"/>

            <td id="td-modify">
                <button type="button"
                        id="button-modify"
                        class="show-tooltip ui-button ui-corner-all ui-widget"
                        name="modify">
                    Modify
                </button>
                <button type="submit"
                        id="button-save"
                        class="show-tooltip ui-button ui-corner-all ui-widget"
                        name="save">
                    Save
                </button>
            </td>
        </form>
    </tr>
</table>

<!--<table>-->
<!--    <tr>-->
<!--        <th>Date</th>-->
<!--        <th>Home team</th>-->
<!--        <th>Away team</th>-->
<!--        <th>Home score</th>-->
<!--        <th>Away score</th>-->
<!--    </tr>-->
<!--    <tr th:each="betResult : ${betResults}">-->
<!--        <form name="singleBetResult" action="#" th:action="@{/bet/postBetResultCreate}" th:object="${betResult}" method="post">-->
<!--            <input type="hidden" th:value="*{id}" id="id" name="id"/>-->
<!--            <td th:text="*{game.gameDate}" th:field="*{game.gameDate}"/>-->
<!--            <td th:text="*{game.homeTeam.team.name}" th:field="*{game.homeTeam.team.name}"/>-->
<!--            <td th:text="*{game.awayTeam.team.name}" th:field="*{game.awayTeam.team.name}"/>-->
<!--&lt;!&ndash;            <td name="homeScore" th:text="*{homeScore}" th:field="*{homeScore}" th:disabled="true"/>&ndash;&gt;-->
<!--            <td name="homeScore" th:text="*{homeScore}" th:field="*{homeScore}"/>-->
<!--&lt;!&ndash;            <td name="homeScore">&ndash;&gt;-->
<!--&lt;!&ndash;                <input type="text" th:text="*{homeScore}" th:field="*{homeScore}"/>&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                <input type="text" th:field="*{homeScore}" disabled="disabled"/>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;            </td>&ndash;&gt;-->
<!--&lt;!&ndash;            <td name="awayScore" th:text="*{awayScore}" th:field="*{awayScore}" th:disabled="true"/>&ndash;&gt;-->
<!--            <td name="awayScore" th:text="*{awayScore}" th:field="*{awayScore}"/>-->

<!--            <td id="td-modify">-->
<!--                <button type="button"-->
<!--                        id="button-modify"-->
<!--                        class="show-tooltip ui-button ui-corner-all ui-widget"-->
<!--                        name="modify">-->
<!--                    Modify-->
<!--                </button>-->
<!--                <button type="submit"-->
<!--                        id="button-save"-->
<!--                        class="show-tooltip ui-button ui-corner-all ui-widget"-->
<!--                        name="save">-->
<!--                    Save-->
<!--                </button>-->
<!--            </td>-->
<!--&lt;!&ndash;            <td id="td-save">&ndash;&gt;-->
<!--&lt;!&ndash;            </td>&ndash;&gt;-->
<!--        </form>-->
<!--    </tr>-->
<!--</table>-->

<script th:src="@{/js/common-navigation.js}"></script>
</body>
</html>